# JMore Console 组件

基于JMore Framework 组件做的二次封装，主要是用于非WEB项目的Shell客户端。

## 功能

- [x] 根据用户提供的命令列表，针对性的做出用户自定义的应答
- [x] 支持命令历史回放
- [x] 支持命令撤回
- [x] 支持命令执行切面拦截
- [x] 支持批处理创建
- [ ] 支持外部GUI APP或者CMD命令的调用
- [ ] 支持一定程度上的语义分析

## 设计思想

指导思想：DDD领域驱动设计

### 主要解决问题

* 拥有执行命令的能力

### 用户需求

* 用户输入命令，控制台根据命令选择执行者，执行者执行命令后，响应命令输出
* 用户可以查看历史命令，并且选择撤销到历史命令的某个命令节点上，在这个节点前的所有命令全部回滚
* 用户可以将多个命令存储为批处理命令，重复性调用执行
* 用户可以拦截命令执行之前，执行任务之后，执行任务失败，执行任务成功，执行完成的点；即，命令的生命周期

### 限界上下文

![限界上下文](https://static.xuqiang.me/public/images/%E6%88%98%E7%95%A5%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87-1.png)

### 上下文映射图

![上下文映射图](https://static.xuqiang.me/public/images/%E6%88%98%E7%95%A5%E8%AE%BE%E8%AE%A1%E2%80%94%E2%80%94%E4%B8%8A%E4%B8%8B%E6%96%87%E6%98%A0%E5%B0%84%E5%9B%BE-1.png)

### 聚合跟

* 命令
* 历史
* 上下文

### 实体

这里列举出【命令子域】以及【历史子域】的所有实体对象，如果为值对象则标注

#### 命令子域

* 命令
* 执行者【值对象】
* 批处理
* 领域服务——命令解析器【将语义化命令转化为具现化命令以及执行者】

#### 历史子域

* 历史
* 命令快照【值对象】
* 回滚脚本【值对象】

### 上下文支撑子域

* 上下文

### 领域模型

* 一个命令有一个具体执行者
* 批处理是一堆命令的集合

![领域模型](https://static.xuqiang.me/public/images/Shell%E6%8E%A7%E5%88%B6%E5%8F%B0DDD%E8%AE%BE%E8%AE%A1-2.png)

